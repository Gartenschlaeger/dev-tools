<app-page-header title="URL Analyzer"></app-page-header>

<form [formGroup]="groupUrlAnalyzer" class="mb-8" (submit)="submitHandler()">
	<app-form-section title="Settings">
		<app-form-textfield label="URL" formControlName="url"></app-form-textfield>
	</app-form-section>

	<app-form-section title="Details" *ngIf="result">
		<div class="mb-3">
			<span class="font-semibold inline-block mb-1 w-full">Host</span>
			<pre>{{ result?.hostname }}</pre>
		</div>
		<div class="mb-3" *ngIf="result.port">
			<span class="font-semibold inline-block mb-1 w-full">Port</span>
			<pre>{{ result.port }}</pre>
		</div>

		<div class="mb-3" *ngIf="result.path">
			<span class="font-semibold inline-block mb-1 w-full">Path</span>
			<pre>{{ result.path }}</pre>
		</div>

		<div class="mb-3" *ngIf="result.queryString">
			<span class="font-semibold inline-block mb-1 w-full">Query strings</span>
			<div class="flex">
				<div class="flex-auto">
					<pre>{{ result.queryString }}</pre>
				</div>
				<div class="flex-none">
					<button class="btn btn-secondary" (click)="handleToogleSearchDetails()">
						<svg-plus-icon></svg-plus-icon>
					</button>
				</div>
			</div>
		</div>

		<div class="mb-3" *ngIf="result?.fragment">
			<span class="font-semibold inline-block mb-1 w-full">Fragment</span>
			<pre>{{ result?.fragment }}</pre>
		</div>
	</app-form-section>

	<div class="rounded bg-red-100 text-red-700 px-4 py-3" *ngIf="hasError">Failed to parse URL</div>

	<app-form-footer>
		<button class="btn btn-primary">Analyze</button>
	</app-form-footer>
</form>
